<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Now Playing - R치dio Max</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="container">
    <h1>游꿧 Pr치v캩 hraje:</h1>
    <div id="nowplaying">
      <span id="song">Na캜칤t치m...</span>
      <img id="cover" src="covers/default.jpg" alt="Cover">
    </div>
  </div>

<script>
const npFile = 'np.txt'; // soubor exportovan칳 z RadioDJ
const coverPath = 'covers/'; // slo쬶a s obr치zky

function updateNowPlaying() {
  fetch(npFile)
    .then(response => response.text())
    .then(text => {
      text = text.trim();
      if (!text) return;

      // Zobraz text
      document.getElementById('song').textContent = text;

      // Vybere cover podle n치zvu skladby
      let songTitle = text.split(' - ')[1]; // N치zev p칤sni캜ky
      let coverFile = coverPath + (songTitle ? songTitle + '.jpg' : 'default.jpg');
      document.getElementById('cover').src = coverFile;
    })
    .catch(err => {
      console.log("Nepoda콏ilo se na캜칤st np.txt:", err);
    });
}

// Aktualizace ka쬯칳ch 5 sekund
setInterval(updateNowPlaying, 5000);
updateNowPlaying();
</script>
</body>
</html>

